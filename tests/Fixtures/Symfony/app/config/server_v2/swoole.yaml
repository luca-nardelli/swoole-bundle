swoole:
    server:
        running_mode: reactor
        socket:
            host: localhost
            port: 9443
            type: tcp_dualstack
        http:
            enabled: true
            http2: true
        encryption:
            enabled: true
            client_certificate:
                file: ~
                insecure: false
                verify:
                    enabled: false
                    depth: ~
            server_certificate:
                file: "%bundle.root_dir%/scratchpad/ssl/cert-1/cert.pem"
                key:
                    file: "%bundle.root_dir%/scratchpad/ssl/cert-1/cert-key.pem"
                    passphrase: ~
            certificate_authority:
                file: ~
                path: ~
            type: ~
            ciphers: ~

        config: {}
            # swoole server optional global config

        # swoole event handlers on "server" objects
        handlers:
            server_start:
                # predefined handler:
                - sigIntHandler
                # the same as
                # - ref: sigIntHandler
                #   config: {}

                # use external service from container
                - id: '@external.bundle.logging.server.handler'
            http_request:
                # reference predefined handler with overrides, which will create new service in container
                - parent: symfonyDefaultHandler
                  # service will be constructed, with id like: `swoole_bundle.server.handler.http_request.main2`
                  id: main2
                  args: {}
                    # ... optional config, only for "predefined" service templates

        listeners:
            -   id: custom
                parent: ~
                socket:
                    host: localhost
                    port: 9100
                    type: tcp_dualstack
                http:
                    enabled: true
                    http2: true
                encryption:
                    enabled: false
                config: {}
                    # swoole listener/port optional config
                handlers:
                    http_request:
                        - ref: swooleBundleApiHandler
                          id: swooleBundleApi2














































